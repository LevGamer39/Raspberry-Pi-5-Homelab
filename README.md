# Raspberry Pi 5 Homelab Setup

–ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–∞—à–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Raspberry Pi 5 —Å –º–µ–¥–∏–∞-—Å–µ—Ä–≤–∏—Å–∞–º–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –æ–±—Ä–∞—Ç–Ω—ã–º –ø—Ä–æ–∫—Å–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú–µ–¥–∏–∞-—Å—Ç–µ–∫**: Sonarr, qBittorrent, Jackett, Jellyfin
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Portainer, Homer Dashboard
- **LCD –¥–∏—Å–ø–ª–µ–π**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤
- **–û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏**: Nginx —Å SSL —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏–µ–π
- **–°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –Ω–∞ GitHub
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –£—Å–∏–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx

## üì¶ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------|-------------|
| Homer | 8080 | –î–∞—à–±–æ—Ä–¥ |
| Portainer | 9443 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ |
| Sonarr | 8989 | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–∏–∞–ª–æ–≤ |
| qBittorrent | 8068 | –¢–æ—Ä—Ä–µ–Ω—Ç-–∫–ª–∏–µ–Ω—Ç |
| Jackett | 9117 | –ü—Ä–æ–∫—Å–∏ –¥–ª—è —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–µ–∫–µ—Ä–æ–≤ |
| Jellyfin | 8096 | –ú–µ–¥–∏–∞-—Å–µ—Ä–≤–µ—Ä |

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
chmod +x rpi.sh
sudo ./rpi.sh
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑:
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫—É LCD —Å–µ—Ä–≤–∏—Å–∞
- –£—Å—Ç–∞–Ω–æ–≤–∫—É Docker –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `homer-proxy.conf`:
```nginx
server_name –≤–∞—à-–¥–æ–º–µ–Ω.com;
ssl_certificate /–ø—É—Ç—å/–∫/—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É.crt;
ssl_certificate_key /–ø—É—Ç—å/–∫/–∫–ª—é—á—É.key;
proxy_pass http://–í–ê–®_IP_–°–ï–†–í–ï–†–ê:–ü–û–†–¢/;
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–∞–ø–æ–≤
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
cd /srv/containers/backup
./push.sh  # –î–ª—è –±—ç–∫–∞–ø–æ–≤
./pull.sh  # –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –¥–ª—è Docker Compose:
```env
PUID=1000
PGID=1000
TZ=Europe/Kaliningrad
```

### LCD –º–æ–Ω–∏—Ç–æ—Ä
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –ø–∞–º—è—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π (10:00-22:00)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ systemd —Å–µ—Ä–≤–∏—Å—ã

### –§—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- SSL/TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (X-Frame-Options, XSS Protection)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CORS
- Health checks –¥–ª—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/srv/
‚îú‚îÄ‚îÄ containers/
‚îÇ   ‚îú‚îÄ‚îÄ configs/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ compose/          # Docker Compose —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ backup/           # –°–∫—Ä–∏–ø—Ç—ã –±—ç–∫–∞–ø–æ–≤ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îî‚îÄ‚îÄ mediahub/
    ‚îú‚îÄ‚îÄ downloads/        # –ó–∞–≥—Ä—É–∑–∫–∏ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤
    ‚îî‚îÄ‚îÄ media/           # –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Portainer:
```bash
chmod +x update_portainer.sh
./update_portainer.sh
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```bash
cd /srv/containers/compose
docker-compose pull
docker-compose up -d
```

## üåü –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º** —á–µ—Ä–µ–∑ `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/—Å–µ—Ä–≤–∏—Å`
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã** —á–µ—Ä–µ–∑ LCD –∏–ª–∏ Homer –¥–∞—à–±–æ—Ä–¥
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** –∏—Å–ø–æ–ª—å–∑—É—è push.sh —Å–∫—Ä–∏–ø—Ç
4. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** –µ–∂–µ–º–µ—Å—è—á–Ω–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ç—á–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ó–∞–º–µ–Ω–∏—Ç–µ –í–°–ï placeholder –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ production
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–µ—Ä–≤–æ–ª –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã.

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–í–∫–ª–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- –ù–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–º–º–∏—Ç–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è placeholders –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –Ω–µ–ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–∏—Å—Ç–µ–º–∞—Ö
